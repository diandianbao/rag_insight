# detail 命令使用示例

## 功能说明

`detail` 命令用于查看搜索结果的详细文档内容。它有两种使用方式：

1. **使用文档序号** - 查看搜索结果列表中指定序号的文档详情
2. **使用文档ID** - 通过文档的唯一ID查看详情（暂未完全实现）

## 使用步骤

### 1. 首先执行搜索

在交互式模式中，先执行一个搜索查询来获取结果列表：

```bash
> 记忆管理
```

你会看到类似这样的结果：

```
                           RAG 检索结果 - '记忆管理'
┏━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━┓
┃ 排名 ┃ 文档ID        ┃ 标题                         ┃ 相似度   ┃ 关键词分数  ┃
┡━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━┩
│ 1    │ 14-Chapter-0… │ 初始化记忆                   │ 0.295    │ 0.000       │
│ 2    │ 14-Chapter-0… │ 2. 配置记忆                  │ 0.244    │ 0.000       │
│ 3    │ 14-Chapter-0… │ 2. 配置记忆                  │ 0.244    │ 0.000       │
│ 4    │ 14-Chapter-0… │ Memory: Long-Term Knowledge  │ 0.156    │ 0.000       │
│      │               │ ...                          │          │             │
└──────┴───────────────┴──────────────────────────────┴──────────┴─────────────┘
```

### 2. 使用 detail 命令查看详情

根据搜索结果列表中的排名序号，使用 `detail` 命令查看具体文档的详细内容：

```bash
# 查看排名第1的文档详情
> detail 1

# 查看排名第2的文档详情
> detail 2

# 查看排名第3的文档详情
> detail 3
```

### 3. 查看详情内容

执行 `detail 1` 后，你会看到类似这样的详细文档信息：

```
╭────────────────────────────────── 文档详情 ──────────────────────────────────╮
│                                                                              │
│ 文档详情                                                                     │
│ 文档ID: 14-Chapter-01-Introduction                                          │
│ 标题: 初始化记忆                                                            │
│ 来源: /path/to/document.pdf                                                 │
│ 相似度: 0.295                                                               │
│                                                                              │
│ 元数据:                                                                     │
│   chunk_index: 0                                                            │
│   page_number: 1                                                            │
│                                                                              │
│ 内容:                                                                       │
│   在记忆管理系统中，初始化记忆是第一步。这包括设置记忆存储的配置参数...      │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯
```

## 命令语法

```bash
# 基本语法
detail <序号>

# 示例
detail 1      # 查看排名第1的文档
detail 3      # 查看排名第3的文档
detail 5      # 查看排名第5的文档
```

## 注意事项

1. **必须先执行搜索** - 在使用 `detail` 命令前，必须先执行搜索查询来获取结果列表
2. **序号范围** - 序号必须在搜索结果的有效范围内（1到最大结果数）
3. **文档ID功能** - 目前主要支持使用序号，文档ID功能还在开发中
4. **结果缓存** - 系统会缓存最后一次搜索的结果，所以可以多次使用 `detail` 命令查看不同的文档

## 常见错误

- `⚠️ 请先执行搜索以获取结果` - 需要先执行搜索查询
- `⚠️ 请提供有效的文档序号` - 提供的序号格式不正确
- `❌ 无效的文档索引` - 提供的序号超出结果范围

## 使用场景

- 查看搜索结果中特定文档的完整内容
- 了解文档的来源和元数据信息
- 分析文档与查询的相关性
- 深入研究检索到的知识内容